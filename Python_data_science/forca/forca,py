import random
from os import system, name

# função para limpar a tela cada execução
def limpa_tela():

    # Windows
    if name == 'nt':
        _ = system('cls')
    # Linux/Unix/MacOS
    else:
        _ = system('clear')

# Função para exibir o boneco da forca conforme as chances restantes
def display_hangman(chances):
    estagios = [
        # Estágio 0: Boneco completo - sem mais chances
        """
           -----
           |   |
           O   |
          /|\\  |
          / \\  |
               |
        =========
        """,
        # Estágio 1: Sem uma perna
        """
           -----
           |   |
           O   |
          /|\\  |
          /    |
               |
        =========
        """,
        # Estágio 2: Sem pernas
        """
           -----
           |   |
           O   |
          /|\\  |
               |
               |
        =========
        """,
        # Estágio 3: Sem um braço
        """
           -----
           |   |
           O   |
          /|   |
               |
               |
        =========
        """,
        # Estágio 4: Só o corpo e a cabeça
        """
           -----
           |   |
           O   |
           |   |
               |
               |
        =========
        """,
        # Estágio 5: Só a cabeça
        """
           -----
           |   |
           O   |
               |
               |
               |
        =========
        """,
        # Estágio 6: Nenhuma parte do boneco foi desenhada ainda
        """
           -----
           |   |
               |
               |
               |
               |
        =========
        """
    ]
    return estagios[chances]
def game():
    
    limpa_tela()
    print("\nBem vindo(a) ao jogo da forca!")
    print("Adivinhe a palavra abaixo:\n")
    
    # Lista de palavravas para o jogo
    palavras = ['banana','abacate', 'uva', 'morango', 'laranja']
    
    # Escolhe randomicamente uma palavra
    palavra = random.choice(palavras)
    
    # lista comprehension
    letras_descobertas = ['_' for letra in palavra]
    
    # Numero de chances
    chances = 6
    
    # Lista para as letras erradas
    letras_erradas = []
    
    while chances > 0:
        #limpa a tela a cada tentativa
        limpa_tela()
        print(display_hangman(chances))
        print(" ".join(letras_descobertas))
        print("\nChances restantes", chances)
        print("Letras errada", " ".join(letras_erradas))

        # Entrada do jogador (tentativa)
        tentativa = input("\nDigite uma letra: ").lower()
        
        # Validação da entrada
        if not tentativa.isalpha() or len(tentativa) != 1:
            print("Por favor, insira apenas uma letra.")
            input("Pressione Enter para continuar.")
            continue
            
         # Verifica se a letra já foi tentada
        if tentativa in letras_descobertas or tentativa in letras_erradas:
            print("Você já tentou essa letra!")
            input("Pressione Enter para continuar.")
            continue
        
        # Se a letra estiver na palavra
        if tentativa in palavra:
            for index, letra in enumerate(palavra):
                if tentativa == letra:
                    letras_descobertas[index] = letra
        # Se a letra não estiver na palavra
        else:
            chances -= 1
            letras_erradas.append(tentativa)
        
        # Verifica se o jogador venceu
        if "_" not in letras_descobertas:
            limpa_tela()
            print(display_hangman(chances))
            print("Você venceu, a palavra era ", palavra)
            break

    # Caso o jogador perca
    if "_" in letras_descobertas:
        limpa_tela()
        print(display_hangman(chances))
        print("Você perdeu, a palavra era ", palavra)

if __name__ == "__main__":
    game()
    print("Jogo finalizado")
